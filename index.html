<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head prefix="og: http://ogp.me/ns#">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-145066191-2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-145066191-2');</script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>McbeEringi sky</title>
		<meta name="Description" content="McbeEringi Sky Top">
		<link rel="shortcut icon" type="image/svg+xml" href="img/sky.svg">
		<meta property="og:type" content="website">
		<meta property="og:title" content="sky">
		<meta property="og:description" content="Skyのツールのトップページです">
		<meta property="og:url" content="https://mcbeeringi.github.io/sky/index.html">
		<meta property="og:image" content="https://mcbeeringi.github.io/sky/img/ico/sky.jpg">
		<!--iOS-->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="default">
		<meta name="apple-mobile-web-app-title" content="sky instr">
		<link rel="apple-touch-icon" href="img/sky.png">
		<!--sw-->
		<link rel="manifest" href="skymf.json">
		<meta name="theme-color" content="#fea"/>
		<script>
			if('serviceWorker'in navigator&&location.protocol.includes('http')&&location.hostname!='localhost')window.addEventListener('load',()=>{navigator.serviceWorker.register('skysw.js').then((reg)=>{console.log('skysw Registered',reg);});});
		</script>
		<link rel="stylesheet" href="https://mcbeeringi.github.io/src/menu.css">
	</head>
	<body>
		<script src="style.js"></script>
		<style>
			:root{
				--bar_col:#888;--button_col:#aaa;--bg_col:#6668;
				--o_img:url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle r='20' cx='20' cy='20' fill='%23444'/%3E%3Ccircle r='2' cx='10' cy='12.5' fill='%23fff'/%3E%3Cpolygon points='15,14 15,11 30,11 30,14' fill='%23fff'%3E%3C/polygon%3E%3Ccircle r='2' cx='10' cy='20' fill='%23fff'/%3E%3Cpolygon points='15,21.5 15,18.5 30,18.5 30,21.5' fill='%23fff'%3E%3C/polygon%3E%3Ccircle r='2' cx='10' cy='27.5' fill='%23fff'/%3E%3Cpolygon points='15,29 15,26 30,26 30,29' fill='%23fff'%3E%3C/polygon%3E%3C/svg%3E%0A");
				--c_img:url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle r='20' cx='20' cy='20' fill='%23444'/%3E%3Cpolygon points='9,11 11,9 20,18 29,9 31,11 22,20 31,29 29,31 20,22 11,31 9,29 18,20' fill='%23fff'%3E%3C/polygon%3E%3C/svg%3E%0A");
				--pos:fixed;--menu_w:240px;--menu_h:360px;--transition:.5s;
			}
			label{display:inline-block;}input[type=radio]{display:none;}
			textarea{display:block;resize:none;width:calc(100% - 8px);height:64px;font-size:14px;line-height:16px;padding:4px;border:0;border-radius:0;background:#2228;color:#fff;}
			input[type=radio]+label{background-color:#5c7383;transition:.2s;padding:0 8px;box-shadow:0 0 8px #0004 inset;font-size:1.2em;}
			input[type=radio]:checked+label{background-color:#48f;}
			#bgmenu>div{height:112px;background:url(img/fog.png);background-position:center;background-size:100%}#bgmenu>div>*{height:100%;display:none;position:relative;}
			#bgmode1:checked~div>:nth-child(1),#bgmode2:checked~div>:nth-child(2){display:block;}

			.stuff>a{display:inline-block;width:150px;margin:5px;vertical-align:top;text-align:center;transition:.2s;white-space:nowrap;}
			@media(max-width:504px){.stuff{text-align:center;}}
			.stuff>a::before{content:"";display:block;height:150px;border-radius:20%;background:no-repeat center/cover var(--img);}
			.stuff>a:hover{transform:scale(1.05);filter:brightness(1.2)saturate(1.2)drop-shadow(0 0 8px #fea);}
			#pwab{width:100%;max-width:256px;height:auto;image-rendering:crisp-edges;image-rendering:pixelated;background:#0004;border-radius:8px;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:none;pointer-events:none;}
		</style>
		<h1>Sky</h1>
		<div class="stuff">
			<a href="instr.html" style="--img:url(img/ico/instr.svg);">sky_instruments</a>
			<a href="info.html" style="--img:url(img/ico/info.jpg);">sky_info</a>
			<a href="stuff.html" style="--img:url(img/sky.svg);" class="nopwa">sky_stuff</a>
			<a href="seq.html" style="--img:url(img/ico/seq.jpg);">sky_sequencer(⚠️β)</a>
		</div>
		<img id="pwab" width="7" height="3" alt="pwa_banner">
		<div class="menu">
			<input type="checkbox" id="example">
			<label for="example"></label><div><div></div></div>
			<div>
				<p style="font-size:1.5em;">background</p>
				<div id="bgmenu">
					<input type="radio" name="bgmode" id="bgmode0"><label for="bgmode0">default</label>
					<input type="radio" name="bgmode" id="bgmode1"><label for="bgmode1">image</label>
					<input type="radio" name="bgmode" id="bgmode2"><label for="bgmode2">custom</label>
					<div>
						<div>
							<label>choose image<br><input type="file" accept="image/*" onchange="idb.result.transaction('stuff','readwrite').objectStore('stuff').put(this.files[0],'bgimg').onsuccess=()=>bgset();"></label><br>
							<button onclick="idb.result.transaction('stuff','readwrite').objectStore('stuff').delete('bgimg').onsuccess=()=>bgset();">reset to default</button>
						</div>
						<label><a href="https://developer.mozilla.org/docs/Web/CSS/gradient">background-image</a>:<br><textarea id="bgcode" oninput="localStorage.sky_bgcode=this.value;bgset();"></textarea></label>
					</div>
				</div>
				<p>
					[sky_menu] build:2104250 <br>
					<span id="cachedisp"></span><br>
					<a href="https://twitter.com/mcbeeringi">@McbeEringi</a> MITLicense <br>
					<button onclick="caches.keys().then(x=>caches.delete(x[0])).then(x=>{if(x)location.reload(true);})">force update</button>
				</p>
			</div>
		</div>

		<script>
			caches.keys().then(x=>cachedisp.textContent=x[0]);
			document.getElementsByName('bgmode').forEach((x,i)=>{
				if(i==localStorage.sky_bgmode)x.checked=true;
				x.onclick=()=>{localStorage.sky_bgmode=i;bgset();}
			});

			if(!localStorage.sky_bgcode)localStorage.sky_bgcode='linear-gradient(0deg,#fff,#000)';bgcode.value=localStorage.sky_bgcode;

			document.querySelectorAll('a').forEach(e=>e.addEventListener('touchstart',()=>{},{passive:true}));
			if(urlq.pwa){
				document.querySelectorAll('a').forEach(e=>e.href=e.href+'?pwa=1');
				document.querySelectorAll('.nopwa').forEach(e=>e.style.display='none');
			}else{
				pwab.style.display='inline';
				pwab.src='img/pwab.png';
			}
		</script>
	</body>
</html>
