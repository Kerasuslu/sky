<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<title>McbeEringi sky_info</title>
		<link rel="icon" type="image/png" href="img/sky.png">
	</head>
	<body>
		<script src="style.js"></script>
		<style>
			:root{tab-size:4em;font-size:16px;}
			pre{white-space:pre-wrap;font-family:'M PLUS Rounded 1c',sans-serif;}
			img{width:100%;max-width:512px;background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='0' y='32' font-family='monospace' font-size='32' fill='%23fff'%3ENO IMAGE%3C/text%3E%3C/svg%3E") #8888;}
			input[type=checkbox]{display:none;}input[type=checkbox]+div{background:#8888;}input[type=checkbox]:not(:checked)+div{display:none;}
		</style>


		<pre id="time">現在時刻: loading…<br>サーバー時刻: loading…</pre>
		<hr>
		<h2>本日分</h2>
		<pre id="today">loading…</pre>
		<img id="today_">
		<hr>
		<h2>次回更新分</h2>
		<pre id="next">loading…</pre>
		<img id="next_">
		<hr>
		<h2>パターン一覧</h2>
		<div style="user-select:none;-webkit-user-select:none;">
			<label><input type="checkbox">草原(3)▶︎<div>["入口左手前","丸石奥","鳥の塔右奥","洞窟入口"]<br><img src="img/00.JPG"><br><br>["入口右奥","丸石右","4島中央","神殿内"]<br><img src="img/01.JPG"><br><br>["入口左奥","鳥の塔中央","洞窟内","神殿前"]<br><img src="img/02.JPG"></div></label><br><br>
			<label><input type="checkbox">雨林(3)▶︎<div>["入口右手前","開拓地船","川&蟹木","晴れ間池"]<br><img src="img/10.JPG"><br><br>["入口左奥","開拓地奥木","墓所中央","神殿後"]<br><img src="img/11.JPG"><br><br>["入口右奥","川&amp;蟹出口","墓所橋","晴れ間奥"]<br><img src="img/12.JPG"></div></label><br><br>
			<label><input type="checkbox">峡谷(2)▶︎<div>["入口左","スケート橋","天球儀入口","ゴール左"]<br><img src="img/20.JPG"><br><br>["入口右奥","スケート氷","天球儀出口","ゴール右"]<br><img src="img/21.JPG"></div></label><br><br>
			<label><input type="checkbox">捨て地(3)▶︎<div>["入口後ろ","祠出口","投石台手前","戦場砦右奥"]<br><img src="img/30.JPG"><br><br>["入口左奥","祠闇花","投石台中央","難破船後端"]<br><img src="img/31.JPG"><br><br>["入口右奥","投石台出口","難破船先端","戦場砦上"]<br><img src="img/32.JPG"></div></label><br><br>
			<label><input type="checkbox">書庫(2)▶︎<div>["1F手前","1F奥","2F奥","6F手前"]<br><img src="img/40.JPG"><br><br>["1F右","2F扉左","4F祠","6F奥"]<br><img src="img/41.JPG"></div></label><br>
		</div>
		<hr>
		<pre>大キャンドル参考元: <a href="https://twitter.com/sky_tea11/status/1234038235149426689/photo/1">ティー様</a></pre>
		<script>
			const c_pat = (x)=>[(x-1)%5,Math.floor((x-1)/5)%[2,3,3,2,3][x%5]];
			//		const c_pat2 = (x)=>[[(x-1)%5,(Math.floor((x-1)/5)+Math.floor((x-2)/5)+1)%[2,3,3,2,3][x%5]],[x%5,(Math.floor((x-1)/5)+Math.floor(x/5))%[3,3,2,3,2][x%5]]];
			//		//7月///(1:0010,2:1120,3:2130,)4:31(40),5:4101,6:0210?,7:12?20,8:2132,9:3040,10:4101?,11:(01)11,12:1020,13:2131,14:3240,15:4100,16:0212,17:1120
			const c_dic =[
				//https://twitter.com/sky_tea11/status/1234038235149426689/photo/1
				//https://twitter.com/i/events/1176090791342567424
				["~草原~",
					["入口左手前","丸石奥","鳥の塔右奥","洞窟入口"],
					["入口右奥","丸石右","4島中央","神殿内"],
					["入口左奥","鳥の塔中央","洞窟内","神殿前"]
				],
				["~雨林~",
					["入口右手前","開拓地船","川&蟹木","晴れ間池"],
					["入口左奥","開拓地奥木","墓所中央","神殿後"],
					["入口右奥","川&蟹出口","墓所橋","晴れ間奥"]
				],
				["~峡谷~",
					["入口左","スケート橋","天球儀入口","ゴール左"],
					["入口右奥","スケート氷","天球儀出口","ゴール右"]
				],
				["~捨て地~",
					["入口後ろ","祠出口","投石台手前","戦場砦右奥"],
					["入口左奥","祠闇花","投石台中央","難破船後端"],
					["入口右奥","投石台出口","難破船先端","戦場砦上"]
				],
				["~書庫~",
					["1F手前","1F奥","2F奥","6F手前"],
					["1F右","2F扉左","4F祠","6F奥"]
				],
			];
			var img=[];
			function main(date) {
				var dt = date.getDate(),dy=date.getDay(),h=date.getHours(),c_pat_=c_pat(dt);
				img = "img/"+c_pat_.join('')+".JPG";
				return  "大キャンドル:	"+c_dic[c_pat_[0]][0]+"\n		"+c_dic[c_pat_[0]][c_pat_[1]+1].join(", ")+
					//"大キャンドル:	"+c_dic[c_pat_[0]][0]+"\n		"+c_dic[c_pat_[0]][c_pat_[1]+1].join(", ")+
					//"\nデイリー:	"+
					"\n\nオフィス:	"+(dt%7==5?"ねこ":(dt%7==6?"宇宙":"特になし"));
			}
			var hbuf = null;
			setTimeout(()=>setInterval(()=>{
				var date = new Date();
				time.textContent = "現在時刻: "+date.toLocaleString();
				date.setMinutes(date.getMinutes()-420+date.getTimezoneOffset());
				time.textContent += "\nサーバー時刻: "+date.toLocaleString();
				if(hbuf!=date.getHours()){
					hbuf = date.getHours();
					console.log("exe");
					today.innerText = main(date);
					today_.src = img;
					date.setDate(date.getDate()+1);
					next.innerText = main(date);
					next_.src = img;
				}
			},1000),1000-new Date().getMilliseconds());
		</script>
	</body>
</html>
